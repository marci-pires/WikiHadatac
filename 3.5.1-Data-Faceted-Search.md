The code structure of faceted search is designed to be easy to extend. We try to reduce the coupling of facets with each other in a facet tree as much as possible, e.g. for a facet tree, we can add new facets, reorganize the orders of facets without adjusting the code of each facet involved. The code structure contains a list of basic components as follows.
* [Facet](https://github.com/paulopinheiro1234/hadatac/blob/master/app/org/hadatac/console/models/Facet.java) 
 class represents a general node, or specifically the root node of a facet tree. A Facet instance may have other Facet instances as its children.
* [FacetTree](https://github.com/paulopinheiro1234/hadatac/blob/master/app/org/hadatac/console/models/FacetTree.java) class plays a role of constructing the level-wise structure of a facet tree. Its setTargetFacet() method can be used to set the corresponding java class of the bottommost facet in a facet tree and its addUpperFacet() method is for setting the corresponding java classes of other facets above the bottommost facet. All java classes used as a certain level of facet should implement the Facetable interface mentioned below.
* [Facetable](https://github.com/paulopinheiro1234/hadatac/blob/master/app/org/hadatac/console/models/Facetable.java) defines a group of interfaces that any java class has to implement in order to serve as a facet level in a facet tree.
   * The getTargetFacets() method is called to obtain all possible facets in the current level, with the constraints passed from it upper level of facet. The possible facets can be retrieved either from Solr calling the getTargetFacetsFromSolr() method (by executing Solr queries) or from Blazegraph calling the getTargetFacetsFromTripleStore() method (by executing SPARQL queries).
   * The getNumber() method is called to obtain the statistics of each possible facet in the current level, i.e. the amount of ingested data points satisfying the constraints inherited from the upper levels of facet along with the constraint imposed by a possible facet in the current level. Again, the possible facets can be retrieved either from Solr calling the getNumberFromSolr() method (by executing Solr queries) or from Blazegraph calling the getNumberFromTripleStore() method (by executing SPARQL queries).
* [FacetHandler](https://github.com/paulopinheiro1234/hadatac/blob/master/app/org/hadatac/console/models/FacetHandler.java) defines a group of helper functions for the interaction between the js code in the frontend and the java code in the backend. Specifically, it manages all the facet trees shown in the faceted search GUI, builds up the facet trees by parsing a facet search http request, and maintains the constraints generated from user selections for retrieving a list of documents (data points) which satisfies these constraints.
